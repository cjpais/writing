<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Tuesday September 29th, 2020</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Tuesday September 29th, 2020</h1>
</header>
<h1 id="tuesday-september-29th-2020">Tuesday September 29^th^, 2020</h1>
<h2 id="summary">Summary</h2>
<ul>
<li>Bike Miramar Lake</li>
<li>Read 2 Ch's <em>Understanding Comics</em> - Scott McCloud</li>
<li>Financials</li>
</ul>
<h2 id="understanding-comics"><em>Understanding Comics</em></h2>
<h2 id="financials">Financials</h2>
<h3 id="script-troubles">Script Troubles</h3>
<p>So I left my script running over night and unfortunately I got logged out at some point. Bummed about this. I think there might be a cookie rotation they do to really ensure. I might have to respond properly to these requests to update the cookie I have stored. May need to dig deeper into the login flow instead of trying to hijack an existing session.</p>
<p>Digging through the Capital One Login I see a few things. It looks like when the form is submitted they generate an encrypted username and password. There is also another Base64 encoded payload with some fakable params. I am not sure all the things they are generating in that.</p>
<p>I dug through the code just a little bit and saw some public keys that looked like they are used to encrypt the username and password, however it didn't look super deterministic. It seems there might be some other injection there to help rotate the encryption or something.. I am really not sure here. I notice they are also generating JS which gets sent to the client, I'm wondering if this has something to do with it.</p>
<h4 id="public-keys">Public Keys</h4>
<pre><code>-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzIRgyU/g0W9Xiuv1ZUU8\n8y/msQmyjTB4jaCDW5g6CxMQuiyavpPNpcqm3X2Cu6JV3XnvpzOplI0CmTHr3Wwz\nHRtwc0xFiDUu5hqcI9bXlcI1wMpUqDemCOg4ya7v03ONFEqErXNuvPFebQ5bwTds\nsOv619TNjP/oxUGrVXIHl7B8ai9o6/w2IF+OF/a3UpVCIjiqVSqizQXu/xdsSsqw\nN+mBCR2vBGeJzabCJNmUE284/f15R08KWCyAr0QF1r8ih1MwqOVjFrcmoevWS09v\n1y9tAB6ksnmL1511mewxpa3J6Nn9u4KvBYtfkwopy42HOlQvMEmJBBtleKYkE5u8\nsQIDAQAB\n-----END PUBLIC KEY-----</code></pre>
<pre><code>-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAiwcxZqZy5tgQiWuI6e0r\nzoBelUXEuxtNLeCqFChS4peivGH0IP+QDnp2tOKQ2dA3sT8qu5YdOXhOc5RXC1Kq\nP/Bbhvk0/R4m5UgPtq8YQcpbrC39GLyIWSEpGgDq7adjBa3cDoQdtkG3AfYVP6rK\nFpKpMZZi0/MzUf+FMLnydqDez2pHAXzZTefq4OaUukBiKum764z7hEtNmxHQd4LN\nhxcz6CHDlPyuWRYkDQt6S1iPCFnT0VZTjaEFTyUIMFDFFT1FhBVW+D9CIaLu/WAC\nAz4QKEilsYZGOn7+vMhozKz2yzVFzRQI/r+WvnBzVFaY4BbbJd37dFzggpsUf+ze\n9wIDAQAB\n-----END PUBLIC KEY-----</code></pre>
<p>For now I am going to let another experiment run (logging what cookies it wants me to set). In the meantime will start to refactor and see what I can do.</p>
<p>Also if I do try to go for this login method I will probably do this with a headless browser or something, then hijack the cookie and use it.</p>
<p>So over 4 hours still logged in. This is good, but need to catch any failures.</p>
<h3 id="refactor">Refactor</h3>
<p>The refactor into a <code>CapitalOne</code> client was super smooth. Stupid easy and makes the code readable.</p>
<p>While refactoring more things I realized that it might be good to separate all this into a library. I think I will call this <code>hyperverse</code>. This is something that will need more thought, so I am continuing to work on the existing code base then decide how it should be split later.</p>
<p>Hmmm so even that is going to need more thinking. I do not want to over-abstract right now. I can think of a few ways but we just need to start writing the code. For now I have just set up</p>
<h4 id="notes"><a href="">Notes</a></h4>
<h2 id="speeding-up-daily-generation">Speeding up Daily Generation</h2>
<p>Yesterday I had a lot of problems with generating this page. Starting to write some SW which should help in the meantime before I start figuring out really what I want.</p>
<p>First thing is when I save a .md file to trigger html generation so I don't have to think. I normally would do this with <code>inotifywatch</code> on linux, but I write on my Mac. Looks like there is a similar tool called <code>fswatch</code>. I will use this instead</p>
<p><code>brew install fswatch</code></p>
<p>After installation I needed to think about what I want the trigger to be. I am thinking any .md file which is modified. Going through the docs it looks like this command should be</p>
<p>``</p>
<h2 id="questions">Questions</h2>
<h3 id="is-it-possible-to-have-a-spreadsheet-view-of-a-graphql-db">Is it possible to have a spreadsheet view of a GraphQL DB?</h3>
<p>What I mean is it would be pretty convienient to have some times. Then apply formulas directly on top. But also have it linked to all my other data. Even for some data input this would be suuuuuper nice. Like right now I have to manually input a bunch of data for my investments.</p>
<pre><code>query GetPlaidInstitutions {
  financial_institutions(where: {financial_plaid_items: {id: {_is_null: false}}}) {
    id
    logo
    name
    plaid_insitution_id
  }
}</code></pre>
</body>
</html>
